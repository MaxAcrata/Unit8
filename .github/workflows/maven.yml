# Название workflow
name: Java CI with Maven

# Workflow должен запускаться при событиях push и pull_request
on: [push, pull_request]
jobs:
# Определяем задачу (job) с именем "build"
  build:
  # Указываем, что задача будет выполняться на последней версии Ubuntu
  runs-on: ubuntu-latest

  # Шаги, которые будут выполнены в рамках задачи
  steps:
    # Используем действие для checkout (клонирования) репозитория
    - uses: actions/checkout@v2
    # Шаг для настройки JDK 11
    - name: Set up JDK 11
      uses: actions/setup-java@v2
      with:
        # Указываем версию Java
        java-version: '11'
        # Описание (необязательное поле)
        description: 'adopt'

    # Шаг для выполнения команды Maven
    - name: Run Maven build
      run: mvn -B -e verify
        # Выполняет следующие шаги:
        # Компиляция исходного кода (compile).
        # Компиляция тестов (test-compile).
        # Запуск тестов (test).
        # Упаковка проекта (например, в JAR-файл, package).
        # Проверка качества кода (если настроены плагины, такие как checkstyle или pmd).
        # Интеграционные тесты (если настроены плагины, такие как failsafe).
        # Фаза verify гарантирует, что проект собран, протестирован и готов к использованию.
